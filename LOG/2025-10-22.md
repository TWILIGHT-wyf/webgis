### 1.Axios
#### 配置Axios实例
```ts
// src/services/http.ts
import axios from 'axios'

const http = axios.create({
  baseURL: import.meta.env.VITE_API_BASE || '/api',  // 基础 URL
  timeout: 10000,  // 超时（毫秒）
  headers: {
    'Content-Type': 'application/json',
  },
})

export default http
```
#### 请求拦截器
例：添加token
```ts
// src/services/http.ts
import { useAuthStore } from '@/stores/auth'

http.interceptors.request.use(
  (config) => {
    const auth = useAuthStore()
    if (auth.token) {
      config.headers = { ...(config.headers || {}), Authorization: `Bearer ${auth.token}` }
    }
    return config
  },
  (error) => Promise.reject(error)
)

```
```ts
axios.interceptors.request.use(
  (config) => {
    // 修改请求配置
    // 必须返回 config，否则请求失败
    return config
  },
  (error) => {
    // 处理请求错误
    return Promise.reject(error)
  }
)
```
#### 响应拦截器
例：
```ts
// src/services/http.ts
http.interceptors.response.use(
  (response) => response,
  async (error) => {
    const auth = useAuthStore()
    const originalReq = error.config
    if (error.response?.status === 401 && !originalReq._retry) {
      if (auth.refreshToken) {
        originalReq._retry = true
        try {
          await auth.refreshAccessToken()
          originalReq.headers.Authorization = `Bearer ${auth.token}`
          return http(originalReq)
        } catch {
          auth.logout()
        }
      } else {
        auth.logout()
      }
    }
    return Promise.reject(error)
  }
)
```
```ts
axios.interceptors.response.use(
  (response) => {
    // 处理成功响应
    return response
  },
  (error) => {
    // 处理响应错误
    return Promise.reject(error)
  }
)
```
#### 错误处理
```ts
try {
  const response = await http.post('/api/login', payload)
} catch (error) {
  if (error.response) {
    // 服务器响应错误
    console.error('Error:', error.response.status, error.response.data)
  } else if (error.request) {
    // 网络错误
    console.error('Network error:', error.request)
  } else {
    // 其他错误
    console.error('Error:', error.message)
  }
}
```

### 2.router
#### 路由注册
```ts
{ path: , component: () => import() , meta: } 
```
#### 路由守卫
#### 全局前置守卫：
`router.beforeEach((to,from,next)=>{})`
- **场景**：检查登录、权限、加载数据。每次导航前执行。

#### 全局解析守卫：
`router.beforeResolve()`
- **场景**：在组件解析前执行，如异步数据加载。确保数据准备好。

#### 全局后置守卫：
`router.afterEach()`
- **场景**：导航完成后执行，如更新页面标题、日志记录。不影响导航。

####  路由独享守卫 
`beforeEnter`
- **场景**：特定路由前检查，如表单验证。

#### 组件内守卫
 `beforeRouteEnter/Update/Leave`
  - **场景**：组件级控制，如离开确认、数据保存
 
